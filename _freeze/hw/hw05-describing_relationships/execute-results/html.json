{
  "hash": "2f3c3f97f594c8fce163739c256fee37",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"HW 05: Describing Relationships\"\nsubtitle: \"Exploring Associations between two variables\"\nexecute:\n  echo: true\n  warning: false\n  message: false\n---\n\n\n\n# Purpose\n\nTo fully explore the relationship between two variables both summary statistics and visualizations are important. \n\n----\n\n# Instructions \n\nFor this assignment you will describe the relationship between these **four** specific combinations of data types: \n\n* Categorical response and categorical explanatory variable. (C ~ C)\n* Quantitative response and categorical explanatory variable. (Q ~ C)\n* Any combination of the above with a binary variable (B ~ C, C ~ B, or Q ~ B)\n* Quantitative response and quantitative explanatory variable. (Q ~ Q)\n\n\n## Before you start, \n\n1. Determine what variables you want to graph based on your research topic. \n    * You will need a mixture of categorical and quantitative variables for this assignment. \n    * You should use variables that are relevant to your research topic. \n    * If you have not yet identified both a quantitative (Q), a binary (B), and a categorical (C) variable that you are interested in, now is the time to go back to the codebook and figure this out. \n2. Recode variables as needed. \n    * If your response variable is categorical with many levels, you may want to collapse it down to fewer than 5 levels. \n\nIf you do not already have a binary (B) variable in your clean data you can either a) go back and edit your `dm` file to include a binary varible, or b) dichotomize one of your categorical (C) varibles into two levels. (Make a new variable, don't overwrite your categorical variable).   \n\n\n\n## For each bivariate relationship under consideration you will do the following: \n\n1. Name and explain the two variables under consideration. \n\n2. Create the appropriate graphic for bivariate relationship under consideration. For these plots binary variables are treated as categorical variables with only 2 levels. \n    * C ~ C: Side by side barplot \n    * Q ~ C: Paneled histogram with density overlaid, or a grouped boxplot with overlaid violin plot. \n    * Q ~ Q: Scatterplot. Add both lowess and linear trend lines.\n\n3. Calculate appropriate grouped summary statistics\n    * For continuous outcomes you'll want to describe measures including the sample size, mean, median, range and variance for each level of the categorical variable. \n    * For categorical outcomes you'll want to calculate %'s of your outcome measurement across levels of your covariate. Create an appropriate table using `tbl_summary`\n        - i.e. proportion of males who are smokers compared to proportion of females who are smokers\n        - or proportion of smokers who are male, compared to proportion of non-smokers who are male. \n\n4. Explain the relationship or trends you see in the data in a summary paragraph. Put this paragraph below the graphic. \n    * Use summary statistics in your text explanation. \n    * Use specific features of the graphic in your text explanation.\n        - i.e. are there outliers only in one group?\n        - Do the data seem clumped or clustered in one region of the scatterplot? \n        - Is there a linear or non-linear pattern? \n        - Does one combination of categorical levels (C~C) seem to hold most the data? \n        - Are there any outlying data points? Don't list off each one, just state if there is and where approximately it's at. \n\n----\n\n# Submission instructions\n\n\n* Use the template provided: [[QMD]](_templates/hw05_describing_relationships_template.qmd)\n  - Right click and 'save as', put this in your `scripts` folder\n* Upload your final PDF to Canvas by the due date. \n\n\n----\n\n## Example\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse); library(ggdist)\nlibrary(sjPlot); library(gtsummary)\n\nnc <- read.csv(\"https://norcalbiostat.netlify.app/data/NCbirths.csv\", header=TRUE)\npen <- palmerpenguins::penguins\n```\n:::\n\n\n\n\n### C ~ C Association\nFor this example I am using the `NC Births` data set, data on 1000 births in 2004 from North Carolina. \nThis example explores the association between the smoking status of the mother (`habit`) and whether or not the baby was born prematurely (`premie`). I specifically want to compare the percent of premie babies within the smoking and non-smoking groups. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnc %>% select(habit, premie) %>%\n  tbl_summary(by = \"habit\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"bfjtwakrrn\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#bfjtwakrrn table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#bfjtwakrrn thead, #bfjtwakrrn tbody, #bfjtwakrrn tfoot, #bfjtwakrrn tr, #bfjtwakrrn td, #bfjtwakrrn th {\n  border-style: none;\n}\n\n#bfjtwakrrn p {\n  margin: 0;\n  padding: 0;\n}\n\n#bfjtwakrrn .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#bfjtwakrrn .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#bfjtwakrrn .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#bfjtwakrrn .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#bfjtwakrrn .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#bfjtwakrrn .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#bfjtwakrrn .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#bfjtwakrrn .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#bfjtwakrrn .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#bfjtwakrrn .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#bfjtwakrrn .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bfjtwakrrn .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#bfjtwakrrn .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#bfjtwakrrn .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#bfjtwakrrn .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bfjtwakrrn .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#bfjtwakrrn .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#bfjtwakrrn .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#bfjtwakrrn .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bfjtwakrrn .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#bfjtwakrrn .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bfjtwakrrn .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#bfjtwakrrn .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bfjtwakrrn .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bfjtwakrrn .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bfjtwakrrn .gt_left {\n  text-align: left;\n}\n\n#bfjtwakrrn .gt_center {\n  text-align: center;\n}\n\n#bfjtwakrrn .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#bfjtwakrrn .gt_font_normal {\n  font-weight: normal;\n}\n\n#bfjtwakrrn .gt_font_bold {\n  font-weight: bold;\n}\n\n#bfjtwakrrn .gt_font_italic {\n  font-style: italic;\n}\n\n#bfjtwakrrn .gt_super {\n  font-size: 65%;\n}\n\n#bfjtwakrrn .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#bfjtwakrrn .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#bfjtwakrrn .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#bfjtwakrrn .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#bfjtwakrrn .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#bfjtwakrrn .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#bfjtwakrrn .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#bfjtwakrrn .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#bfjtwakrrn div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\"><span data-qmd-base64=\"KipDaGFyYWN0ZXJpc3RpYyoq\"><span class='gt_from_md'><strong>Characteristic</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_1\"><span data-qmd-base64=\"Kipub25zbW9rZXIqKiAgCk4gPSA4NzM=\"><span class='gt_from_md'><strong>nonsmoker</strong><br />\nN = 873</span></span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_2\"><span data-qmd-base64=\"KipzbW9rZXIqKiAgCk4gPSAxMjY=\"><span class='gt_from_md'><strong>smoker</strong><br />\nN = 126</span></span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">premie</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    full term</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">739 (85%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">107 (85%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    premie</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">133 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">19 (15%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">1</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"3\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> <span data-qmd-base64=\"biAoJSk=\"><span class='gt_from_md'>n (%)</span></span></td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code}\nplot_xtab(x=nc$habit, grp=nc$premie, show.total=FALSE, margin='row')\n```\n\n::: {.cell-output-display}\n![](hw05-describing_relationships_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\nContrary to what I was expecting, there is equal proportion of prematurely born babies to non-smokers (133/873, 15%) compared to babies born to smokers (19/126, 15%). There is no association between the smoking status of the mother and the likelihood of the baby being born prematurely. \n\n\n\n### Q ~ C Association\n\nThis example explores the association between the depth of a penguins bill and the species of the penguin. The quantitative response variable is bill depth in mm (`bill_depth_mm`) and the categorical explanatory variable is species (`species`). \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npen %>% group_by(species) %>% \n  summarize(n=n(), \n            mean = mean(bill_depth_mm, na.rm = TRUE), \n            median = median(bill_depth_mm, na.rm = TRUE), \n            sd = sd(bill_depth_mm, na.rm = TRUE), \n            IQR = IQR(bill_depth_mm, na.rm = TRUE)) %>%\n  knitr::kable(digits=2) # for nice table format printing\n```\n\n::: {.cell-output-display}\n\n\n|species   |   n|  mean| median|   sd| IQR|\n|:---------|---:|-----:|------:|----:|---:|\n|Adelie    | 152| 18.35|  18.40| 1.22| 1.5|\n|Chinstrap |  68| 18.42|  18.45| 1.14| 1.9|\n|Gentoo    | 124| 14.98|  15.00| 0.98| 1.5|\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(pen, aes(x=bill_depth_mm, y=species, fill=species)) + \n      stat_slab(alpha=.5, justification = 0) + \n      geom_boxplot(width = .2,  outlier.shape = NA) + \n      geom_jitter(alpha = 0.5, height = 0.05) +\n      stat_summary(fun=\"mean\", geom=\"point\", col=\"red\", size=4, pch=17) + \n      theme_bw() + \n      labs(x=\"Bill depth (mm)\", y = \"Species\") + \n      theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](hw05-describing_relationships_files/figure-html/unnamed-chunk-4-1.png){fig-align='center' width=480}\n:::\n:::\n\n\n\nThe distribution of bill depth are fairly normal for each species, with some higher end values causing a slight right skew for Adelie and Gentoo. Gentoo penguins have lower average bill depth compared to Adelie or Chinstrap (15.0mm vs 18.3 and 18.4mm respectively). Chinstrap however have a larger IQR at 1.9 compared to 1.5 for the others. \n\n### Q ~ Q Association\n\nThis example explores the association between the length of a penguins flipper and it's body mass. The quantitative response variable is body mass(`body_mass_g`) and the quantitative explanatory variable is flipper length (`flipper_length_mm`).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncor(pen$flipper_length_mm, pen$body_mass_g, \n    use=\"pairwise.complete.obs\") # calculate the correlation\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8712018\n```\n\n\n:::\n\n```{.r .cell-code}\nggplot(pen, aes(x=flipper_length_mm, y=body_mass_g)) + geom_point() + \n  geom_smooth(se=FALSE, col=\"brown\") + geom_smooth(se=FALSE, method=\"lm\") +\n  theme_bw()\n```\n\n::: {.cell-output-display}\n![](hw05-describing_relationships_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\nThere is a positive association between flipper length and body mass of a penguin. The correlation coefficient is 0.87, and the form of the relationship is relatively linear.\n\n\n\n\n    ",
    "supporting": [
      "hw05-describing_relationships_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}